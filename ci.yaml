ciTemplate: maven
build:
  environment:
  - "MAVEN_OPTS='-Xms256m -Xmx512m'"
  steps:
  - "mvn clean install"
  - "mvn test -Dmyarg"
kaniko:
  registry_nexus:
    dockerHost: https://nexus3
    credentialID: docker-credentials-id
  registry_gcr:
    dockerHost: https://gcr
    credentialID: docker-credentials-id
qs:
  sonar:
    enabled: true
    host: https://sonar.host
    credentialID: sonar-credentials-id
  checkmarx:
    enabled: true
    host: https://checkmarx.host
    credentialID: checkmarx-credentials-id
deploy:
  gke:
    cluster: local
    image: nexus.image.url
  ansible:
    cluster: local
    image: nexus.image.url

